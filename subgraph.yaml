specVersion: 0.0.2
description: PIXSales
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: PIX
    network: mumbai
    source:
      address: "0x884b54dfc22cc80cd63354e4fd2b92fd47275a9f"
      abi: PIX
      startBlock: 27138765
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/pix.ts
      entities:
        - Global
        - Account
        - PIX
      abis:
        - name: PIX
          file: ./abis/pix.json
      eventHandlers:
        - event: PIXMinted(indexed address,indexed uint256,indexed uint256,uint8,uint8)
          handler: handlePIXMinted
        - event: Requested(indexed uint256,indexed uint256,indexed uint256)
          handler: handlePIXRequested
        - event: Requested(indexed uint256,indexed uint256,indexed uint256,uint256,uint256)
          handler: handlePIXRequestedNew
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
  
  - kind: ethereum/contract
    name: PIXStaking
    network: mumbai
    source:
      address: "0xc3f629a1f8bb4488708d183e89fb21ba6e33c366"
      abi: PIXStaking
      startBlock: 27888269
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/pixStaking.ts
      entities:
        - PIXStaking
        - PIX
        - Global
      abis:
        - name: PIX
          file: ./abis/pix.json
        - name: PIXStaking
          file: ./abis/pix_staking.json
      eventHandlers:
        - event: PIXStaked(uint256,indexed address)
          handler: handlePIXStaked
        - event: PIXUnstaked(uint256,indexed address)
          handler: handlePIXUnstaked

  - kind: ethereum/contract
    name: PIXFixedSale
    network: mumbai
    source:
      address: "0x5a50e76c860C3d167eDaa46F9a82b47D83bb858D"
      abi: PIXFixedSale
      startBlock: 27140475
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/sale.ts
      entities:
        - Global
        - Sale
      abis:
        - name: PIXFixedSale
          file: ./abis/sale.json
      eventHandlers:
        - event: SaleRequested(indexed address,indexed uint256,address,uint256[],uint256)
          handler: handleSaleRequested
        - event: SaleUpdated(indexed uint256,uint256)
          handler: handleSaleUpdated
        - event: SaleCancelled(indexed uint256)
          handler: handleSaleCancelled
        - event: Purchased(indexed address,indexed address,indexed uint256,uint256)
          handler: handleSalePurchased
        - event: PurchasedWithSignature(indexed address,indexed address,address,uint256,uint256)
          handler: handleSalePurchasedWithSignature

  # - kind: ethereum/contract
  #   name: PIXAuctionSale
  #   network: mumbai
  #   source:
  #     address: "0xE03F18e3B44AB7D0696F4dfeED0c1EEBb3dCfcC6"
  #     abi: PIXAuctionSale
  #     startBlock: 27140573
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.4
  #     language: wasm/assemblyscript
  #     file: ./src/auction.ts
  #     entities:
  #       - Global
  #       - Sale
  #       - Bid
  #     abis:
  #       - name: PIXAuctionSale
  #         file: ./abis/auction.json
  #     eventHandlers:
  #       - event: SaleRequested(indexed address,indexed uint256,address,uint64,uint256[],uint256)
  #         handler: handleAuctionRequested
  #       - event: SaleUpdated(indexed uint256,uint64)
  #         handler: handleAuctionUpdated
  #       - event: SaleCancelled(indexed uint256)
  #         handler: handleAuctionCancelled
  #       - event: Bid(indexed address,indexed uint256,uint256)
  #         handler: handleBid
  #       - event: BidCancelled(indexed address,indexed uint256,uint256)
  #         handler: handleBidCancelled
  #       - event: Purchased(indexed address,indexed address,indexed uint256,uint256)
  #         handler: handleAuctionPurchased

  # - kind: ethereum/contract
  #   name: PIXAuctionSaleNew
  #   network: mumbai
  #   source:
  #     address: "0xEAb7fC7E99A5167d3AfeB58fcA8110C12D66cCCb"
  #     abi: PIXAuctionSaleNew
  #     startBlock: 27140518
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.4
  #     language: wasm/assemblyscript
  #     file: ./src/auction_new.ts
  #     entities:
  #       - Global
  #       - Sale
  #       - Bid
  #     abis:
  #       - name: PIXAuctionSaleNew
  #         file: ./abis/auction_new.json
  #     eventHandlers:
  #       - event: SaleRequested(indexed address,indexed uint256,address,uint64,uint256[],uint256)
  #         handler: handleAuctionRequested
  #       - event: SaleUpdated(indexed uint256,uint64)
  #         handler: handleAuctionUpdated
  #       - event: SaleCancelled(indexed uint256)
  #         handler: handleAuctionCancelled
  #       - event: Bid(indexed address,indexed uint256,uint256)
  #         handler: handleBid
  #       - event: BidCancelled(indexed address,indexed uint256,uint256)
  #         handler: handleBidCancelled
  #       - event: Purchased(indexed address,indexed address,indexed uint256,uint256)
  #         handler: handleAuctionPurchased
